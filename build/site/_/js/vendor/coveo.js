(()=>{"use strict";const e=document.getElementById("site-script").dataset.uiRootPath,t="K",o=75,a={macintosh:{secondaryKey:"metaKey",secondaryKeyLabel:"âŒ˜",secondaryKeyLabelLong:"Command"},windows:{secondaryKey:"ctrlKey",secondaryKeyLabel:"ctrl",secondaryKeyLabelLong:"Control"},others:{secondaryKey:"ctrlKey",secondaryKeyLabel:"ctrl",secondaryKeyLabelLong:"Control"}},r=()=>document.referrer.length>0?document.referrer:document.location.origin,s=()=>/Android|iPhone|iPad/i.test(navigator.userAgent);class i{constructor(e,t,o){this.atomicSearchbox=e,this.searchboxShadowRoot=t,this.searchboxInput=o,this.searchboxDiv=t.querySelector("div"),this.searchboxSubmitButton=t.querySelector('button[part="submit-button"]'),this.clientOS=(()=>{let e="others";const t=navigator.userAgent.toLowerCase();return Object.keys(a).forEach((o=>{-1!==t.indexOf(o)&&(e=o)})),e})()}updateAriaLabelForInput(){this.searchboxInput.ariaLabel=`${this.searchboxInput.getAttribute("aria-label")} For shortcut to search, use ${a[this.clientOS].secondaryKeyLabelLong} + ${t}`}addKbdElementToSearchbox(){const e=this.searchboxDiv.querySelector("div");if(!e.querySelector("kbd")){const o=document.createElement("kbd");o.innerHTML=`${a[this.clientOS].secondaryKeyLabel} + ${t}`,o.style.background="#fafafa",o.style.border="1px solid #c1c1c1",o.style.borderRadius="0.25em",o.style.boxShadow="0 1px 0 #c1c1c1, inset 0 0 0 0.1em #fff",o.style.display=window.matchMedia(" (min-width: 768px)").matches?"inline-block":"none",o.style.fontSize=".66667rem",o.style.marginRight="4px",o.style.padding="0.25em 0.5em",o.style.verticalAlign="text-bottom",o.style.whiteSpace="nowrap",e.appendChild(o)}}appendKeyboardShortcut(){this.searchboxInput&&(this.searchboxInput.placeholder=`${this.searchboxInput.placeholder} (${a[this.clientOS].secondaryKeyLabel} + ${t})`)}addKeyboardShortcutToSearchbox(){this.appendKeyboardShortcut(),document.onkeyup=document.onkeydown=e=>{const t=e.which||e.keyCode;e[a[this.clientOS].secondaryKey]&&t===o&&(this.searchboxInput&&this.searchboxInput.focus(),e.preventDefault())}}addLeftSearchIcon(){const t=document.createElement("img");t.alt="",t.src=`${e}/img/icons/search-light.svg`,t.style.height="50%",t.style.margin="10px 5px 10px 10px",t.style.position="absolute",this.searchboxDiv.insertBefore(t,this.searchboxDiv.firstChild)}addSearchboxInputEventListeners(){this.searchboxInput.addEventListener("input",(e=>this.toggleSubmitText(e))),this.searchboxInput.addEventListener("blur",(e=>this.toggleSubmitText(e))),setTimeout((()=>this.toggleSubmitText()),500)}makeMoreAssistive(){this.updateInput(),this.updateSubmitButton()}toggleSubmitButtonDisabled(e,t){this.searchboxInput&&(t?this.atomicSearchbox.setAttribute("disable-search",t):this.atomicSearchbox.setAttribute("disable-search",0===this.searchboxInput.value.length)),e&&e.preventDefault()}toggleSubmitText(e){const t=this.searchboxSubmitButton.querySelector("p");if(t&&(t.style.display=this.searchboxInput.value?"inherit":"none",t.style.margin=this.searchboxInput.value?"auto 10px auto -5px":"auto 10px auto 0"),this.searchboxInput.value){const e=this.searchboxDiv.querySelector('button[part="clear-button"]');e&&"true"!==e.getAttribute("listener")&&(e.addEventListener("click",(()=>{t.style.display="none",t.style.margin="auto 10px auto 0"})),e.setAttribute("listener","true"))}e&&e.preventDefault()}updateInput(){this.searchboxInput&&("en"===document.documentElement.lang?(this.searchboxInput.placeholder="Search Docs",this.searchboxInput.ariaLabel=this.searchboxInput.getAttribute("aria-label").replace("Search field","Search Doc field"),this.searchboxDiv&&(s()||(this.addKeyboardShortcutToSearchbox(),this.updateAriaLabelForInput()))):this.searchboxDiv&&(s()||this.addKeyboardShortcutToSearchbox()),this.addLeftSearchIcon(),this.addSearchboxInputEventListeners())}updateSubmitButton(){this.searchboxSubmitButton&&this.searchboxSubmitButton.setAttribute("aria-label","Search Docs")}}(()=>{let e=500;const t=setInterval((()=>{--e<=0&&clearInterval(t);const o=document.querySelector("atomic-search-box"),a=o&&o.shadowRoot;if(a){const e=a.querySelector("input");if(e){const r=new i(o,a,e);try{r.makeMoreAssistive(),clearInterval(t)}catch(e){console.error(e)}}}}),100)})(),(()=>{const e=document.querySelector(".search-page-back-button");if(e){const t=r(),o=`Navigate to ${t}`;e.ariaLabel=o,e.title=o,e.addEventListener("click",(e=>{window.location.href=t,e.preventDefault()}))}})()})();